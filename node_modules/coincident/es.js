const e="d14e5fe9-f83f-4687-942d-b76a179f036b",t="function";var s=e=>({value:new Promise((t=>{let s=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");s.onmessage=t,s.postMessage(e)}))})
/*! (c) Andrea Giammarchi - ISC */;const{Int32Array:n,Map:a,SharedArrayBuffer:r,Uint16Array:o}=globalThis,{BYTES_PER_ELEMENT:i}=n,{BYTES_PER_ELEMENT:l}=o,{isArray:f}=Array,{notify:c,wait:d,waitAsync:p}=Atomics,{fromCharCode:w}=String,g=new WeakSet,h=new WeakMap,u={value:{then:e=>e()}};let y=0;const m=(m,{parse:E=JSON.parse,stringify:b=JSON.stringify,transform:A,interrupt:v}=JSON)=>{if(!h.has(m)){const S=(t,...s)=>m.postMessage({[e]:s},{transfer:t}),T=typeof v===t?v:v?.handler,M=v?.delay||42,P=(e,t)=>e?(p||s)(t,0):(T?((e,t,s)=>{for(;"timed-out"===d(e,0,0,t);)s()})(t,M,T):d(t,0),u);let C=!1;h.set(m,new Proxy(new a,{has:(e,t)=>"string"==typeof t&&!t.startsWith("_"),get:(e,t)=>"then"===t?null:(...e)=>{const s=y++;let a=new n(new r(2*i)),f=[];g.has(e.at(-1)||f)&&g.delete(f=e.pop()),S(f,s,a,t,A?e.map(A):e);const c=m!==globalThis;let d=0;return C&&c&&(d=setTimeout(console.warn,1e3,`ðŸ’€ðŸ”’ - Possible deadlock if proxy.${t}(...args) is awaited`)),P(c,a).value.then((()=>{clearTimeout(d);const e=a[1];if(!e)return;const t=l*e;return a=new n(new r(t+t%i)),S([],s,a),P(c,a).value.then((()=>{const t=new o(a.buffer).slice(0,e),s=[];for(let n=0;n<e;n+=2048)s.push(w(...t.slice(n,n+2048)));return E(s.join(""))}))}))},set(s,n,r){const i=typeof r;if(i!==t)throw new Error(`Unable to assign ${n} as ${i}`);if(!s.size){const t=new a;m.addEventListener("message",(async n=>{const a=n.data?.[e];if(f(a)){n.stopImmediatePropagation();const[e,r,...i]=a;let l;if(i.length){const[n,a]=i;if(s.has(n)){C=!0;try{const o=await s.get(n)(...a);if(void 0!==o){const s=b(A?A(o):o);t.set(e,s),r[1]=s.length}}catch(e){l=e}finally{C=!1}}else l=new Error(`Unsupported action: ${n}`);r[0]=1}else{const s=t.get(e);t.delete(e);for(let e=new o(r.buffer),t=0;t<s.length;t++)e[t]=s.charCodeAt(t)}if(c(r,0),l)throw l}}))}return!!s.set(n,r)}}))}return h.get(m)};m.transfer=(...e)=>(g.add(e),e);export{m as default};
